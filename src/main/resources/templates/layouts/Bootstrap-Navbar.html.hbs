<html lang="{{i18n.lang}}">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <!-- MDB -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.2/mdb.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.1/font/bootstrap-icons.css"
    />
    <!-- FA Icons-->
    <script
      src="https://kit.fontawesome.com/839e8b1ba6.js"
      crossorigin="anonymous"
    ></script>
    <!-- Fonts -->
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
      rel="stylesheet"
    />
    <!-- Custom CSS-->
    <link rel="stylesheet" href="style/style.css" />
    {{#block "customCSS"}}{{/block}}
    <!-- Page Title-->
    <title>{{#block "pageTitle"}}{{/block}}</title>
  </head>
  <!-- Body -->
  <body class="pt-4">
    <!-- Navbar Body -->
    <nav
      class="navbar navbar-expand-lg navbar-light bg-light fixed-top user-select-none"
      role="navigation"
    >
     <!-- Container wrapper -->
      <div class="container-fluid">
        <!-- Toggle button -->
        <button
          class="navbar-toggler"
          type="button"
          data-mdb-toggle="collapse"
          data-mdb-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <i class="fas fa-bars"></i>
        </button>
        <!-- Collapsable wrapper -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <!-- Brand Name -->
          <a class="navbar-brand mt-2 mt-lg-0" href="#">
            <img
            src="https://sparkjava.com/img/logo.svg"
            height="40"
            alt="T Sanchez's Spark Seed"
            loading="lazy"
            />
          </a>
          <!-- Left links -->
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <!-- Home -->
            <li class="nav-item">
              <a
                class="nav-link {{nav.home}}"
                aria-current="page"
                href="{{links.home}}"
              >{{i18n.home}}</a>
            </li>
            <!-- Showed when user is logged in -->
            {{#if loggedIn}}


            <!-- Showed when user is Admin -->
            {{#if isAdmin}}
            <li class="nav-item">
              <a
                class="nav-link {{nav.admin}}"
                aria-current="page"
                href="/admin"
              >Role Admin</a>
            </li>
            {{/if}}

            <!-- Showed when user is Staff -->
            {{#if isStaff}}
            <li class="nav-item">
              <a
                class="nav-link"
                aria-current="page"
                href="#"
              >Role Staff</a>
            </li>
            {{/if}}

            <!-- Showed when logged in -->
            <li class="nav-item">
              <a
                class="nav-link"
                aria-current="page"
                href="#"
              >Role User</a>
            </li>
            {{else}}
            <!-- Showed when user has not logged in -->
            {{/if}}
          </ul>
        </div>
        <!-- Collapsible wrapper -->
        <!-- Right elements -->
        <div class="d-flex align-items-center">
        {{#if loggedIn}}
          <!-- Notifications -->
          <div class="dropdown">
            <a
              class="text-reset me-3 dropdown-toggle hidden-arrow"
              href="#"
              id="navbarDropdownMenuLink"
              role="button"
              data-mdb-toggle="dropdown"
              aria-expanded="false"
            >
              <i class="fas fa-bell"></i>
              <span class="badge rounded-pill badge-notification bg-danger">1</span>
            </a>
            <ul
              class="dropdown-menu dropdown-menu-end"
              aria-labelledby="navbarDropdownMenuLink"
            >
              <li>
                <a class="dropdown-item" href="#">Some news</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Another news</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Something else here</a>
              </li>
            </ul>
          </div>
          <!-- Avatar -->
          <div class="dropdown">
            <a
              class="dropdown-toggle d-flex align-items-center hidden-arrow"
              href="#"
              id="navbarDropdownMenuAvatar"
              role="button"
              data-mdb-toggle="dropdown"
              aria-expanded="false"
            >
              <img
                src="{{user.profileUrl}}"
                alt="{{user.uname}}"
                width="42.5"
                height="42.5"
                class="rounded-circle"
                onerror="this.src='https://avatars.githubusercontent.com/u/4492795?s=200&v=4'"
              />
            </a>
            <ul
              class="dropdown-menu dropdown-menu-end"
              aria-labelledby="navbarDropdownMenuAvatar"
            >
              <li>
                <a class="dropdown-item" href="#">My profile</a>
              </li>
              <li>
                <a class="dropdown-item disabled" href="#">Settings</a>
              </li>
              <li><hr class="dropdown-divider" /></li>
              <li>
                <form
                  method="POST"
                  action="{{links.login}}"
                  class="mt-0 mb-0"
                >
                  <button
                    type="submit"
                    name="uid"
                    value="false"
                    class="dropdown-item"
                  >
                    {{i18n.logOut}}
                  </button>
                </form>
              </li>
            </ul>
          </div>
        {{else}}
          <!-- Sign Up -->
          <a type="button" class="btn btn-primary me-2 {{nav.register}}" href="{{links.register}}" data-mdb-ripple-color="light">{{i18n.signUp}}</a>
          <!-- Log In -->
          <a type="button" class="btn btn-outline-primary ms-2 {{nav.login}}" href="{{links.login}}" data-mdb-ripple-color="light">{{i18n.logIn}}</a>
        {{/if}}
        </div>
      <!-- Right elements -->
      </div>
    </nav>

    {{#block "content"}}{{/block}}

    <!-- Flexbox container for aligning the toasts -->
    <div
      aria-live="polite"
      aria-atomic="true"
      class="d-flex justify-content-center align-items-center w-100"
    >
      <!-- Then put toasts within -->
      <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <strong class="me-auto">JPA Template</strong>
          <small>{{i18n.justNow}}</small>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body {{toastStatus}} text-white">
          {{toastMessage}}
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer
      class="mt-auto font-small mdb-color lighten-3 pt-4 fixed-bottom"
      style="margin-bottom: 1em"
    >
      <!-- Footer Links -->
      <div class="container text-center text-md-left">
        <!-- Grid row -->
        <div class="row">
          <!-- Grid column -->
          <div class="col-md-3 col-lg-3 col-xl-3 mx-auto mt-3">
            <!-- Content -->
            <h5
              class="font-weight-bold text-uppercase mb-4"
              style="
                border-top-style: solid;
                margin-top: 7.5px;
                border-top-width: 0px;
              "
            >
              About this page
            </h5>
            <p>
              This is a Spark micro framework seed template which will help you to deliver fast web applications.
            </p>
          </div>

          <hr class="clearfix w-100 d-md-none" />

        <!-- Grid row -->
      </div>
      <!-- Footer Links -->

      <!-- Copyright -->
      <div class="footer-copyright text-center py-3 muted-text">
        <a class="text-muted" href="https://tomasanchez.github.io" style="text-decoration: none" target="_blank">Copyright © 2021 Tomás
          Agustín Sánchez</a>
      </div>
      <!-- Copyright -->
    </footer>
    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <!-- MDB -->
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.2/mdb.min.js"
    ></script>
    <script type="text/javascript" src="./script/App.js">
    </script>
    <script type="text/javascript">
      onInit();
      showToasts({{showToast}});
    </script>
    {{#block "customJS"}}{{/block}}
  </body>

</html>